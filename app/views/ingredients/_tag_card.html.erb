<div id="ingredient_tag_<%= ingredient_tag.id %>" class="relative aspect-square group bg-white rounded-xl border border-stone-200 hover:border-amber-300 hover:shadow-sm transition-all duration-200 overflow-hidden">
  <div class="absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200">
    <%= button_to remove_tag_project_ingredient_path(@project, @ingredient, ingredient_tag_id: ingredient_tag.id),
                 method: :delete,
                 form: { data: { turbo_frame: "_top" } },
                 class: "rounded-full p-2 bg-white shadow-sm border border-stone-200 hover:bg-red-50 hover:border-red-200 hover:text-red-500 transition-colors duration-200" do %>
      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
      </svg>
    <% end %>
  </div>

  <div class="h-4/5 flex items-center justify-center bg-stone-50 p-3">
    <% if tag.image.attached? %>
      <%= image_tag tag.image, class: "object-contain w-full h-full rounded-lg" %>
    <% else %>
      <div class="flex flex-col items-center justify-center w-full h-full">
        <span class="text-2xl font-bold text-stone-400"><%= tag.name[0..1].upcase %></span>
        <span class="text-xs text-stone-500 mt-1">тег</span>
      </div>
    <% end %>
  </div>
  
  <div class="h-1/5 border-t border-stone-100 flex items-center justify-center px-2">
    <h5 class="text-sm font-semibold text-stone-800 text-center truncate w-full">
      <%= tag.name %>
    </h5>
  </div>
</div>